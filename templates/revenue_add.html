<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OptiGain â€¢ Add Revenue</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
</head>

<body class="min-h-screen bg-sky-50 dark:bg-slate-950 transition-colors">

<header
  class="flex items-center justify-between px-6 py-4
         bg-white dark:bg-slate-900
         border-b border-slate-200 dark:border-slate-800"
>
  <div class="flex items-center gap-3">
    <img src="{{ url_for('static', filename='logo.png') }}" class="h-9">
    <h1 class="text-lg font-semibold text-slate-900 dark:text-white">
      Revenue Entry (Cash)
    </h1>
  </div>

  <div class="flex items-center gap-4">
    <a href="{{ url_for('dashboard') }}"
       class="text-sm font-medium text-slate-600 dark:text-slate-300
              hover:text-blue-600 transition">
      â¬… Dashboard
    </a>

    <button id="darkToggle"
            class="w-9 h-9 rounded-full bg-blue-600 text-white shadow">
      ðŸŒ™
    </button>
  </div>
</header>

<main class="flex items-center justify-center px-4 py-10">

  <div class="w-full max-w-md bg-white dark:bg-slate-900
              border border-slate-200 dark:border-slate-800
              rounded-2xl shadow-lg p-8">

    <div class="text-center mb-6">
      <h2 class="text-xl font-semibold">âž• Add Revenue</h2>
      <p class="text-sm text-slate-600 dark:text-slate-400 mt-1">
        Record cash or non-MPesa income
      </p>
    </div>

    <form method="POST" action="{{ url_for('add_revenue') }}" class="space-y-4">

      <!-- Date -->
      <div>
        <label class="block text-sm font-medium mb-1">Date</label>
        <input type="date" name="date" required
               class="w-full rounded-lg border px-3 py-2">
      </div>

      <!-- Amount -->
      <div>
        <label class="block text-sm font-medium mb-1">
          Revenue Amount (KSh)
        </label>
        <input type="number" name="amount" required
               placeholder="e.g. 1500"
               class="w-full rounded-lg border px-3 py-2">
      </div>

      <!-- Category -->
      <div>
        <label class="block text-sm font-medium mb-1">
          Category
        </label>
        <input type="text"
               name="category"
               value="cash"
               placeholder="e.g. cash, walk-in, till"
               class="w-full rounded-lg border px-3 py-2">
      </div>

      <button type="submit"
              class="w-full rounded-lg bg-green-600 hover:bg-green-700
                     text-white font-medium py-2">
        Save Revenue
      </button>
    </form>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="mt-4 text-center">
          {% for _, message in messages %}
            <p class="text-sm text-green-600">{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

  </div>
</main>

<script>
  const toggle = document.getElementById("darkToggle");
  if (localStorage.getItem("theme") === "dark") {
    document.documentElement.classList.add("dark");
  }
  toggle?.addEventListener("click", () => {
    const d = document.documentElement.classList.toggle("dark");
    localStorage.setItem("theme", d ? "dark" : "light");
  });
</script>

</body>
</html>